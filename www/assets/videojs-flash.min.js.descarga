/*!
 * @name videojs-flash
 * @version 1.0.1
 * @author Brightcove, Inc.
 * @license Apache-2.0
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojsFlash=e()}}(function(){return function e(t,r,n){function o(s,a){if(!r[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return o(r||e)},l,l.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,r){(function(e){var r;r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){t.exports={name:"videojs-swf",description:"The Flash-fallback video player for video.js (http://videojs.com)",version:"5.3.0",copyright:"Copyright 2014 Brightcove, Inc. https://github.com/videojs/video-js-swf/blob/master/LICENSE",keywords:["flash","video","player"],homepage:"http://videojs.com",author:{name:"Brightcove"},repository:{type:"git",url:"git+https://github.com/videojs/video-js-swf.git"},devDependencies:{async:"~0.2.9",chg:"^0.3.2","flex-sdk":"4.6.0-0",grunt:"~0.4.0","grunt-bumpup":"~0.5.0","grunt-cli":"~0.1.0","grunt-connect":"~0.2.0","grunt-contrib-jshint":"~0.4.3","grunt-contrib-qunit":"~0.2.1","grunt-contrib-watch":"~0.1.4","grunt-npm":"~0.0.2","grunt-prompt":"~0.1.2","grunt-shell":"~0.6.1","grunt-tagrelease":"~0.3.1",qunitjs:"~1.12.0","video.js":"^5.9.2"},scripts:{version:"chg release -y && grunt dist && git add -f dist/ && git add CHANGELOG.md"},gitHead:"39d8d6bb5a44c72386f29c31f03b4489715b448e",bugs:{url:"https://github.com/videojs/video-js-swf/issues"},_id:"videojs-swf@5.3.0",_shasum:"b79408ab4ad5dd8f6f20e8abfc33150b098aab57",_from:"videojs-swf@>=5.2.0 <6.0.0",_npmVersion:"2.15.6",_nodeVersion:"4.4.3",_npmUser:{name:"gkatsev",email:"me@gkatsev.com"},dist:{shasum:"b79408ab4ad5dd8f6f20e8abfc33150b098aab57",tarball:"https://registry.npmjs.org/videojs-swf/-/videojs-swf-5.3.0.tgz"},maintainers:[{name:"heff",email:"npm@heff.me"},{name:"seniorflexdeveloper",email:"seniorflexdeveloper@gmail.com"},{name:"gkatsev",email:"me@gkatsev.com"},{name:"dmlap",email:"dlapalomento@gmail.com"},{name:"bclwhitaker",email:"lwhitaker@brightcove.com"}],_npmOperationalInternal:{host:"packages-18-east.internal.npmjs.com",tmp:"tmp/videojs-swf-5.3.0.tgz_1487358499601_0.9398698739241809"},directories:{},_resolved:"https://registry.npmjs.org/videojs-swf/-/videojs-swf-5.3.0.tgz",readme:"ERROR: No README data found!"}},{}],3:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){w[e]=function(){return this.el_.vjs_getProperty(e)}}for(var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=(function(e){return e&&"object"===(void 0===e?"undefined":a(e))&&"default"in e?e["default"]:e}("undefined"!=typeof window?window.videojs:void 0!==u?u.videojs:null)),u=e(1),l=c.getComponent("Tech"),d=c.dom,f=c.url,p=c.createTimeRange,h=c.mergeOptions,v=u.window&&u.window.navigator||{},m=function(t){function r(e,i){n(this,r);var s=o(this,t.call(this,e,i));return e.source&&s.ready(function(){this.setSource(e.source)},!0),e.startTime&&s.ready(function(){this.load(),this.play(),this.currentTime(e.startTime)},!0),u.window.videojs=u.window.videojs||{},u.window.videojs.Flash=u.window.videojs.Flash||{},u.window.videojs.Flash.onReady=r.onReady,u.window.videojs.Flash.onEvent=r.onEvent,u.window.videojs.Flash.onError=r.onError,s.on("seeked",function(){this.lastSeekTarget_=undefined}),s}return i(r,t),r.prototype.createEl=function(){var t=this.options_;if(!t.swf){var n=e(2).version;t.swf="//vjs.zencdn.net/swf/"+n+"/video-js.swf"}var o=t.techId,i=h({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.preload,loop:t.loop,muted:t.muted},t.flashVars),s=h({wmode:"opaque",bgcolor:"#000000"},t.params),a=h({id:o,name:o,"class":"vjs-tech"},t.attributes);return this.el_=r.embed(t.swf,i,s,a),this.el_.tech=this,this.el_},r.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},r.prototype.pause=function(){this.el_.vjs_pause()},r.prototype.src=function(e){return e===undefined?this.currentSrc():this.setSrc(e)},r.prototype.setSrc=function(e){var t=this;e=f.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()&&this.setTimeout(function(){return t.play()},0)},r.prototype.seeking=function(){return this.lastSeekTarget_!==undefined},r.prototype.setCurrentTime=function(e){var r=this.seekable();r.length&&(e=e>r.start(0)?e:r.start(0),e=e<r.end(r.length-1)?e:r.end(r.length-1),this.lastSeekTarget_=e,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",e),t.prototype.setCurrentTime.call(this))},r.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},r.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},r.prototype.duration=function(){if(0===this.readyState())return NaN;var e=this.el_.vjs_getProperty("duration");return e>=0?e:Infinity},r.prototype.load=function(){this.el_.vjs_load()},r.prototype.poster=function(){this.el_.vjs_getProperty("poster")},r.prototype.setPoster=function(){},r.prototype.seekable=function(){var e=this.duration();return 0===e?p():p(0,e)},r.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?p():p(e[0][0],e[0][1])},r.prototype.supportsFullScreen=function(){return!1},r.prototype.enterFullScreen=function(){return!1},r}(l),y=["rtmpConnection","rtmpStream","preload","defaultPlaybackRate","playbackRate","autoplay","loop","controls","volume","muted","defaultMuted"],g=["networkState","readyState","initialTime","startOffsetTime","paused","ended","videoWidth","videoHeight"],w=m.prototype,b=0;b<y.length;b++)s(y[b]),function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);w["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}(y[b]);for(var j=0;j<g.length;j++)s(g[j]);m.isSupported=function(){return m.version()[0]>=10},l.withSourceHandlers(m),m.nativeSourceHandler={},m.nativeSourceHandler.canPlayType=function(e){return e in m.formats?"maybe":""},m.nativeSourceHandler.canHandleSource=function(e,t){var r=void 0;return r=e.type?e.type.replace(/;.*/,"").toLowerCase():function(e){var t=f.getFileExtension(e);return t?"video/"+t:""}(e.src),m.nativeSourceHandler.canPlayType(r)},m.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)},m.nativeSourceHandler.dispose=function(){},m.registerSourceHandler(m.nativeSourceHandler),m.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},m.onReady=function(e){var t=d.$("#"+e),r=t&&t.tech;r&&r.el()&&m.checkReady(r)},m.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){m.checkReady(e)},50))},m.onEvent=function(e,t){var r=d.$("#"+e).tech,n=Array.prototype.slice.call(arguments,2);r.setTimeout(function(){r.trigger(t,n)},1)},m.onError=function(e,t){var r=d.$("#"+e).tech;if("srcnotfound"===t)return r.error(4);r.error("FLASH: "+t)},m.version=function(){var e="0,0,0";try{e=new u.window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{v.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(v.plugins["Shockwave Flash 2.0"]||v.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(r){}}return e.split(",")},m.embed=function(e,t,r,n){var o=m.getEmbedCode(e,t,r,n);return d.createEl("div",{innerHTML:o}).childNodes[0]},m.getEmbedCode=function(e,t,r,n){var o="",i="",s="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){o+=e+"="+t[e]+"&amp;"}),r=h({movie:e,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},r),Object.getOwnPropertyNames(r).forEach(function(e){i+='<param name="'+e+'" value="'+r[e]+'" />'}),n=h({data:e,width:"100%",height:"100%"},n),Object.getOwnPropertyNames(n).forEach(function(e){s+=e+'="'+n[e]+'" '}),'<object type="application/x-shockwave-flash" '+s+">"+i+"</object>"},function(e){e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var r=e.search(/&(?!\w+=)/),n=void 0;return-1!==r?n=r+1:0===(r=n=e.lastIndexOf("/")+1)&&(r=n=e.length),t.connection=e.substring(0,r),t.stream=e.substring(n,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t,r){var n=e.rtmpSourceHandler.canPlayType(t.type);return n||(e.isStreamingSrc(t.src)?"maybe":"")},e.rtmpSourceHandler.handleSource=function(t,r,n){var o=e.streamToParts(t.src);r.setRtmpConnection(o.connection),r.setRtmpStream(o.stream)},e.registerSourceHandler(e.rtmpSourceHandler)}(m),l.getTech("Flash")?(c.log.warn("Not using videojs-flash as it appears to already be registered"),c.log.warn("videojs-flash should only be used with video.js@6 and above")):c.registerTech("Flash",m),t.exports=m},{1:1,2:2}]},{},[3])(3)});